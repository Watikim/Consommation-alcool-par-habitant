<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=0.01">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="asset/style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Carlito:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <title>Consommation d'Alcool</title>
</head>

<body>

    <header id="header">
        <ul id="menu">
            <li class="liste"><a href="#containerAffiche">Datalogie</a></li>
            <li class="liste"><a href="#title">Introduction</a></li>
            <li class="liste"><a href="#conso">Analyse</a></li>
        </ul>

        <script>
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);

                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });
        </script>


    </header>

    <main>

        <section id="imgbackground">
            <h1 id="title">TAUX DE CONSOMMATION D'ALCOOL <br> DANS LE MONDE</h1>

        </section>

        <div>
            <p id="texte" id="intro">En 2019, la consommation mondiale d’alcool représentait une préoccupation majeure
                en matière
                de
                santé
                publique. L’Organisation mondiale de la santé a estimé que chaque personne âgée de 15 ans et plus
                consommait
                en moyenne 6,2 litres d’alcool pur par an. L’Europe demeurait la région la plus touchée, bien que la
                consommation ait légèrement diminué, tandis que l’Asie et l’Afrique montraient des tendances à la
                hausse.
            </p>

        </div>

        <div id="containerAffiche">
            <img id="affiche" src="asset/media/affiche.png" alt="Datalogie sur la consommation d'alcool par habitant">
        </div>


        <div id="soustitre">
            <h2 class="h2title" id="conso">LA CONSOMMATION EN STATISTIQUES</h2>
        </div>

        <hr>
        <h3 class="h3title" id="conso">Consommation d'alcool en général</h3>
        <hr>
        <p id="texte" class="precision">en litres par personnes</p>

        <canvas id="chart"> </canvas>


        <div class="checkbox-container">
            <label><input type="checkbox" id="oceanie" checked> <span>Océanie</span></label>
            <label><input type="checkbox" id="asie" checked> <span>Asie</span></label>
            <label><input type="checkbox" id="afrique" checked> <span>Afrique</span></label>
            <label><input type="checkbox" id="amerique" checked> <span>Amérique</span></label>
            <label><input type="checkbox" id="europe" checked> <span>Europe</span></label>
        </div>

        <div>
            <button class="info-btn" data-modal="modal1">Plus d'information</button>
        </div>

        <!-- Modal associé -->
        <div id="modal1" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <p id="detail">L'on peut voir que l'Europe affiche les niveaux les plus élevés, bien qu'en baisse
                    progressive, passant de 10,93 L/personne en 2000 à 10,11 L en 2019. L'Amérique suit avec
                    des valeurs stables autour de 6 L/personne. L'Afrique reste relativement constante autour de 4
                    L/personne. L'Asie montre une augmentation régulière de 2,76 à 3,23 L/personne, tandis que l'Océanie
                    enregistre une légère diminution, de 3,63 à 3,20 L/personne. Ces données soulignent des disparités
                    significatives entre les régions, avec une baisse marquée en Europe et une croissance modérée en
                    Asie.</p>
            </div>
        </div>

        <hr>
        <h3 class="h3title">Consommation de boisson spiritueux</h3>
        <hr>
        <p id="texte" class="precision">en litres par personnes</p>

        <div style="position: relative; height:70vh; width:100%">
            <canvas id="chart2"></canvas>
        </div>

        <div>
            <button class="info-btn" data-modal="modal2">Plus d'information</button>
        </div>

        <div id="modal2" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <p id="detail"> Pour la consommation de boisson spiritueux, l'Europe figure en tête avec une consommation de 2,4 L/personne, suivie par
                    l'Amérique à 2,2 L/personne. L'Asie et l'Océanie ont des consommations similaires, respectivement
                    1,16 et 0,68 L/personne. L'Afrique, quant à elle, enregistre la consommation la plus faible avec
                    seulement 0,4 L/personne. </p>
            </div>
        </div>

        <hr>
        <h3 class="h3title">Consommation de Bière</h3>
        <hr>
        <p id="texte" class="precision">en litres par personnes</p>

        <canvas id="chart3"> </canvas>

        <div>
            <button class="info-btn" data-modal="modal3">Plus d'information</button>
        </div>

        <div id="modal3" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <p id="detail"> Nous pouvons voir que l'Europe à la consommation de bière la plus élevée, atteignant
                    3,76 L/personne,
                    suivie par l'Amérique à 2,75 L/personne. L'Océanie et l'Afrique affichent des consommations
                    similaires, respectivement 1,21 et 1,18 L/personne, tandis que l'Asie enregistre la consommation la
                    plus faible
                    avec 0,83 L/personne.</p>
            </div>
        </div>
        <hr>
        <h3 class="h3title">Consommation de Vin</h3>
        <hr>
        <p id="texte" class="precision">en litres par personnes</p>

        <canvas id="chart4"> </canvas>
        <div>
            <button class="info-btn" data-modal="modal4">Plus d'information</button>
        </div>

        <div id="modal4" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <p id="detail"> J'adore </p>
            </div>
        </div>


        <script>

            // STATISTIQUES GENERALES
            const ctx1 = document.getElementById('chart');

            const DATASETS = [
                { data: [3.63, 3.45, 3.42, 3.15, 3.2], label: 'Océanie', backgroundColor: "rgba(255, 49, 49, 0.25)", borderColor: "#810404", fill: true },
                { data: [2.76, 2.91, 3.15, 3.26, 3.23], label: 'Asie', backgroundColor: "rgba(54, 162, 235, 0.25)", borderColor: "#356f8c", fill: true },
                { data: [3.99, 3.99, 4.00, 4.08, 3.97], label: 'Afrique', backgroundColor: "rgba(255, 206, 86, 0.25)", borderColor: "#9a6d2b", fill: true },
                { data: [5.82, 6.03, 6.01, 5.96, 5.91], label: 'Amérique', backgroundColor: "rgba(75, 192, 192, 0.25)", borderColor: "#4e7b7b", fill: true },
                { data: [10.93, 11.12, 10.69, 10.25, 10.11], label: 'Europe', backgroundColor: "rgba(153, 102, 255, 0.25)", borderColor: "#7b4fbb", fill: true }
            ];

            let chart = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: ["2000", "2005", "2010", "2015", "2019"],
                    datasets: [
                    ]
                },
            });

            function updateChart() {
                chart.data.datasets = [];

                if (document.getElementById("oceanie").checked) {
                    chart.data.datasets.push(DATASETS[0]);
                }
                if (document.getElementById("asie").checked) {
                    chart.data.datasets.push(DATASETS[1]);
                }
                if (document.getElementById("afrique").checked) {
                    chart.data.datasets.push(DATASETS[2]);
                }
                if (document.getElementById("amerique").checked) {
                    chart.data.datasets.push(DATASETS[3]);
                }
                if (document.getElementById("europe").checked) {
                    chart.data.datasets.push(DATASETS[4]);
                }

                chart.update();
            }

            document.getElementById("oceanie").addEventListener("change", updateChart);
            document.getElementById("asie").addEventListener("change", updateChart);
            document.getElementById("afrique").addEventListener("change", updateChart);
            document.getElementById("amerique").addEventListener("change", updateChart);
            document.getElementById("europe").addEventListener("change", updateChart);

            updateChart();



            // STATISTIQUES BIERE

            const ctx3 = document.getElementById('chart3');

            new Chart(ctx3, {
                type: 'bar',
                data: {
                    labels: ["Océanie", "Asie", "Afrique", "Amérique", "Europe"],
                    datasets: [{
                        label: ['litres de bière'],
                        data: [1.21, 0.83, 1.18, 2.75, 3.76],
                        backgroundColor: [
                            "rgba(255, 99, 132, 0.5)",
                            "rgba(54, 162, 235, 0.5)",
                            "rgba(255, 206, 86, 0.5)",
                            "rgba(75, 192, 192, 0.5)",
                            "rgba(153, 102, 255, 0.5)"
                        ],
                    }]
                }
            });

            const data2 = {
                labels: [
                    'Océanie',
                    'Asie',
                    'Afrique',
                    'Amérique',
                    'Europe'

                ],
                datasets: [{
                    label: "Consommation de spiritueux",
                    data: [0.68, 1.16, 0.4, 2.2, 2.4],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.7)',
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(255, 206, 86, 0.7)',
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(153, 102, 255, 0.7)'
                    ],
                    borderWidth: 1
                }]
            };

            const config2 = {
                type: 'pie',
                data: data2,
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            enabled: true,
                            callbacks: {
                                label: function (tooltipItem) {
                                    return tooltipItem.label + ': ' + tooltipItem.raw + ' L/personne';
                                }
                            }

                        }
                    }
                }
            };

            const ctx2 = document.getElementById('chart2');
            new Chart(ctx2, config2);
            
            const data3 = {
                labels: [
                    'Océanie',
                    'Asie',
                    'Afrique',
                    'Amérique',
                    'Europe'

                ],
                datasets: [{
                    label: "Consommation de vin",
                    data: [0.7, 0.26, 0.28, 0.7, 2.8],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.7)',
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(255, 206, 86, 0.7)',
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(153, 102, 255, 0.7)'
                    ],
                    borderWidth: 1
                }]
            };

            const config4 = {
                type: 'line',
                data: data3,
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            enabled: true,
                            callbacks: {
                                label: function (tooltipItem) {
                                    return tooltipItem.label + ': ' + tooltipItem.raw + ' L/personne';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function (value) {
                                    return value + ' L';
                                }
                            }
                        }
                    }
                }
            };

            const ctx4 = document.getElementById('chart4');
            new Chart(ctx4, config4);
        </script>




    </main>

    <footer class="headerFooter">

    </footer>

    <script>
        document.querySelectorAll('.info-btn').forEach(button => {
            button.addEventListener('click', function () {
                const modalId = this.getAttribute('data-modal');
                document.getElementById(modalId).style.display = 'block';
            });
        });

        document.querySelectorAll('.close').forEach(closeBtn => {
            closeBtn.addEventListener('click', function () {
                this.parentElement.parentElement.style.display = 'none';
            });
        });

        window.addEventListener('click', function (event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        });

    </script>
</body>


</html>